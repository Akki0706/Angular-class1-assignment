<form [formGroup]="doraemonForm" (ngSubmit)="onSubmit()">
  <!-- Personal Information -->
  <h2>Personal Information:</h2>
  <div formGroupName="personalInfo">
    <div>
      <label>Name:</label>
      <input type="text" formControlName="name">
      <div *ngIf="f.personalInfo.name.invalid && (f.personalInfo.name.dirty || f.personalInfo.name.touched)">
        <div *ngIf="f.personalInfo.name.errors.required">Name is required.</div>
        <div *ngIf="f.personalInfo.name.errors.minlength">Name must be at least 4 characters long.</div>
        <div *ngIf="f.personalInfo.name.errors.forbiddenName">Name must not be a well-known character from the series.</div>
      </div>
    </div>
    <div>
      <label>Date of Birth:</label>
      <input type="date" formControlName="dob">
      <div *ngIf="f.personalInfo.dob.invalid && (f.personalInfo.dob.dirty || f.personalInfo.dob.touched)">
        <div *ngIf="f.personalInfo.dob.errors.required">Date of Birth is required.</div>
        <div *ngIf="f.personalInfo.dob.errors.invalidAge">Sorry, you must be at least 13 years old to register!</div>
      </div>
    </div>
    <div>
      <label>Gender:</label>
      <div>
        <label><input type="radio" formControlName="gender" value="male"> Male</label>
        <label><input type="radio" formControlName="gender" value="female"> Female</label>
        <label><input type="radio" formControlName="gender" value="other"> Other</label>
      </div>
      <div *ngIf="f.personalInfo.gender.invalid && (f.personalInfo.gender.dirty || f.personalInfo.gender.touched)">
        <div *ngIf="f.personalInfo.gender.errors.required">Gender is required.</div>
      </div>
    </div>
  </div>

  <!-- Account Information -->
  <h2>Account Information:</h2>
  <div formGroupName="accountInfo">
    <div>
      <label>Email:</label>
      <input type="email" formControlName="email">
      <div *ngIf="f.accountInfo.email.invalid && (f.accountInfo.email.dirty || f.accountInfo.email.touched)">
        <div *ngIf="f.accountInfo.email.errors.required">Email is required.</div>
        <div *ngIf="f.accountInfo.email.errors.email">Invalid email format.</div>
      </div>
    </div>
    <div>
      <label>Password:</label>
      <input type="password" formControlName="password">
      <div *ngIf="f.accountInfo.password.invalid && (f.accountInfo.password.dirty || f.accountInfo.password.touched)">
        <div *ngIf="f.accountInfo.password.errors.required">Password is required.</div>
        <div *ngIf="f.accountInfo.password.errors.pattern">Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character.</div>
      </div>
    </div>
    <div>
      <label>Confirm Password:</label>
      <input type="password" formControlName="confirmPassword">
      <div *ngIf="f.accountInfo.confirmPassword.invalid && (f.accountInfo.confirmPassword.dirty || f.accountInfo.confirmPassword.touched)">
        <div *ngIf="f.accountInfo.confirmPassword.errors.required">Confirm Password is required.</div>
        <div *ngIf="f.accountInfo.confirmPassword.errors.passwordMismatch">Passwords must match.</div>
      </div>
    </div>
    <div>
      <label>Favorite Doraemon Gadget:</label>
      <select formControlName="favoriteGadget">
        <option value="">Select</option>
        <option value="Anywhere Door">Anywhere Door</option>
        <option value="Bamboo Copter">Bamboo Copter</option>
        <option value="Take-copter">Take-copter</option>
        <option value="Dokodemo Door">Dokodemo Door</option>
      </select>
    </div>
  </div>
  <button type="submit" [disabled]="doraemonForm.invalid">Submit</button>
</form>
